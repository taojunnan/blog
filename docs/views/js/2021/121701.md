---
title: Js中既简单又准确的比较浮点数
date: 2021-12-17
author: Junan
sidebar: false
categories:
 - Js
tags:
 - js
 - 技巧
publish: true
isShowComments: true
---

众所周知，在`JS`中`0.1 + 0.2 == 0.3`结果是`false`，那是因为浮点数运算丢失精度造成的，`0.1 + 0.2`实际的运算结果可能是`0.30000000000000004`，所以和`0.3`相比较肯定是不等的。在一般情况下，我们要做浮点数的计算，要么通过一些类库，要么将等式两边同乘10或100，去除小数再计算。  

但其实还有一种简单的方式可以比较，如下代码👇

```javascript
Math.abs(0.1 + 0.2 - 0.3) <= Number.EPSILON
```

`Number.EPSILON`是`JS`中`Number`类型最小的浮点数，在控制台输出它为`2.220446049250313e-16`，如果计算结果的绝对值小于或等于它，那么则认为它们相等。  

算是一种技巧吧，在日常开发中，如果是小部分的浮点数计算比较可以使用这种方式，如果涉及大量的精确的数值的情况，还是推荐使用成熟的类库。